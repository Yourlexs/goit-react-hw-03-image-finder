{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/services/images-api.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","label","onChange","input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","handleClick","largeImageURL","onClick","image","src","webformatURL","srcSet","alt","ImageGalleryItemImage","id","ImageGallery","images","map","Button","totalImages","window","scrollTo","top","document","documentElement","scrollHeight","behavior","button","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handlebackdropClick","target","addEventListener","removeEventListener","createPortal","overlay","modal","modalImg","searchQuery","currentPage","axios","get","then","response","data","hits","App","imageForModal","isLoading","error","showModal","onChangeQuery","onChangeModalImg","img","toggleModal","fetchImages","options","imagesApi","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6d9b286a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__iBWPV\",\"modal\":\"Modal_modal__1mFKF\",\"modalImg\":\"Modal_modalImg__2dgXc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Mf1s\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__LhN99\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__37jIv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1LO6W\"};","import { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.label}>Search</span>\n          </button>\n\n          <input\n            value={this.state.query}\n            onChange={this.handleChange}\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import { Component } from 'react';\n\nimport styles from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  handleClick = largeImageURL => {\n    const { onClick } = this.props;\n    onClick(largeImageURL);\n  };\n\n  render() {\n    const { image } = this.props;\n    return (\n      <li\n        key={image.id}\n        className={styles.ImageGalleryItem}\n        onClick={() => this.handleClick(image.largeImageURL)}\n      >\n        <img\n          src={image.webformatURL}\n          srcSet={image.largeImageURL}\n          alt=\"\"\n          className={styles.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import styles from './ImageGallery.module.css';\nimport { Component } from 'react';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nclass ImageGallery extends Component {\n  render() {\n    const { images, onClick } = this.props;\n\n    return (\n      <ul className={styles.ImageGallery}>\n        {images.map(image => (\n          <ImageGalleryItem key={image.id} onClick={onClick} image={image} />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nclass Button extends Component {\n  componentDidMount() {\n    const { totalImages } = this.props;\n\n    if (totalImages > 10) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  render() {\n    const { onClick } = this.props;\n\n    return (\n      <button type=\"button\" onClick={onClick} className={styles.button}>\n        Load more\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillMount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handlebackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.overlay}>\n        <div className={styles.modal} onClick={this.handlebackdropClick}>\n          <img src={this.props.image} alt=\"\" className={styles.modalImg} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nconst API_KEY = '21843177-dc493b9de0e38d6cc05d61e8e';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst fetchImages = ({ searchQuery, currentPage }) => {\n  return axios\n    .get(\n      `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=12&key=${API_KEY}`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchImages };\n","import { Component } from 'react';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport Modal from './Components/Modal';\n\nimport imagesApi from './Components/services/images-api';\n\nclass App extends Component {\n  state = {\n    images: [],\n    imageForModal: '',\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      images: [],\n      currentPage: 1,\n      searchQuery: query,\n      error: null,\n    });\n  };\n\n  onChangeModalImg = img => {\n    this.setState({\n      imageForModal: img,\n    });\n    this.toggleModal();\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, imageForModal, isLoading, error, showModal } = this.state;\n    const shouldRenderLoadMoreButton = images.length >= 12 && !isLoading;\n    const totalImages = images.length;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} onClick={this.onChangeModalImg} />\n        {isLoading && (\n          <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\n        )}\n        {error && <p>Oops...</p>}\n        {shouldRenderLoadMoreButton && (\n          <Button onClick={this.fetchImages} totalImages={totalImages} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal} image={imageForModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__k6Ii1\",\"SearchForm\":\"Searchbar_SearchForm__32S8k\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2VhRA\",\"label\":\"Searchbar_label__1YOBC\",\"input\":\"Searchbar_input__dCSb1\"};"],"sourceRoot":""}